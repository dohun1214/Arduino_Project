### **스마트홈 자동화 시스템 기능 상세 설명**
본 프로젝트는 **아두이노 기반 스마트홈 시스템**으로, **환경 모니터링**, **보안**, **원격 제어**, **에너지 관리** 기능을 구현합니다.

---

### **1. 환경 모니터링 시스템**
#### **1.1 온습도 제어**
- **센서:** DHT11  
- **기능:**  
  - 온도/습도를 실시간 측정  
  - **LCD**에 현재 온습도 표시  
  - 온도 ≥ 35°C인 경우 서보모터 작동 (팬 작동)
  - 코드 예시:
    ```cpp
    if (temperature >= 35) {
      servo.attach(motor_control);
      servo.write(0);
      delay(500);
      servo.write(180);
    } else {
      servo.detach();
    }
    ```

#### **1.2 조명 제어**
- **센서:** 조도 센서 (LDR)  
- **기능:**  
  - **자동(A)/수동(M)** 모드에 따라 조명 제어
    - 자동 모드: 조도 ≤ 200일 경우 LED 밝기 조절  
    - 수동 모드: 블루투스로 ON/OFF 제어  
  - 코드 예시:
    ```cpp
    if (brightness <= 200) {
      analogWrite(LED1, 255 - brightness);
    } else {
      digitalWrite(LED1, LOW);
    }
    ```

---

### **2. 보안 및 안전 시스템**
#### **2.1 침입 감지**
- **센서:** 초음파 센서  
- **기능:**  
  - 거리 ≤ 10cm인 경우:
    - LCD에 "Motion Detected" 표시  
    - 부저 울림, LED 점멸, 블루투스로 알림 전송  
  - 코드 예시:
    ```cpp
    if (cm <= 10) {
      lcd.print("Motion Detected");
      tone(speakerPin, 5000, 500);
      bluetooth.print("Motion Detected");
    }
    ```

#### **2.2 화재 감지**
- **센서:** 화염 감지 센서  
- **기능:**  
  - 불꽃 감지 시:
    - 부저 울림  
    - LED 점등  
    - 블루투스로 알림 전송 가능  
  - 코드 예시:
    ```cpp
    if (digitalRead(flameSensorPin) == LOW) {
      digitalWrite(flamePin, HIGH);
      tone(speakerPin, 5000, 500);
    }
    ```

#### **2.3 긴급 경보 스위치**
- **센서:** Tact 스위치  
- **기능:**  
  - 긴급 버튼 누르면:
    - LCD에 경고 문구 표시  
    - 부저 울림, 블루투스 알림 전송  
  - 코드 예시:
    ```cpp
    if (digitalRead(tactPin)) {
      emergencyButton();
    }
    ```

---

### **3. 원격 제어 시스템**
#### **3.1 블루투스 통신**
- **모듈:** HC-06  
- **기능:**  
  - **모드 전환:** 'A' = 자동, 'M' = 수동  
  - **수동 제어 명령:**  
    - '1' = LED ON  
    - '0' = LED OFF  
    - '2' = 팬 ON  
    - '3' = 팬 OFF  
    - 'S' = 센서 데이터 전송  
  - 코드 예시:
    ```cpp
    char cmd = bluetooth.read();
    if (cmd == 'S') {
      sendSensorData(...);
    }
    ```

---

### **4. 에너지 관리 시스템**
#### **4.1 조도 기반 LED 제어**
- **센서:** LDR  
- **기능:**  
  - 밝기에 따라 LED 밝기 자동 조정  
  - 수동 제어 가능 (블루투스 명령 기반)  
  - 코드 예시:
    ```cpp
    analogWrite(LED1, 255 - brightness);
    ```

---

### **5. H/W 구성**
#### **5.1 주요 부품**
| **카테고리**  | **부품**                        | **용도**                  |
|---------------|----------------------------------|----------------------------|
| 센서          | DHT11, LDR, 초음파, 화염 센서     | 환경 및 안전 정보 수집      |
| 구동장치      | 서보모터, 부저                   | 팬 구동 및 경고음 발생      |
| 출력장치      | LCD, LED                         | 정보 출력 및 경고 표시      |
| 통신          | HC-06 블루투스                   | 스마트폰 원격 제어 및 데이터 수신 |
| 기타          | Tact 스위치                      | 긴급 경보 트리거           |

---

### **6. S/W 로직**
#### **6.1 모드 상태 관리**
- **모드:**  
  - 자동 모드 (Auto Mode): 조도/온도에 따라 자동 제어  
  - 수동 모드 (Manual Mode): 사용자 명령으로 제어  
  - 코드:
    ```cpp
    if (cmd == 'A' || cmd == 'M') {
      mode = cmd;
    }
    ```

#### **6.2 LCD 상태 업데이트**
- **기능:**  
  - 침입 감지 또는 긴급 상황이 없을 때는 현재 온습도 출력  
  - 코드 예시:
    ```cpp
    if (!isEmergencyActive && !isMotionDetected) {
      lcd.print("Temp:");
      lcd.print(temperature);
      lcd.print("C");
    }
    ```

---

### **7. 확장 기능 (추천)**
#### **7.1 스마트폰 앱 연동**
- **툴:** MIT App Inventor  
- **기능:**  
  - 실시간 온습도 그래프 표시  
  - 팬 및 LED 수동 제어 버튼 제공  

#### **7.2 창문 자동 제어 (추후 개발)**
- **센서:** 기울기 센서  
- **기능:**  
  - 창문이 열리면 자동 닫기 위한 서보모터 제어 가능  

---

### **기대 효과**
- **실시간 대응력 강화:** 화재/침입 발생 시 빠른 알림  
- **에너지 절감:** 조도 기반 조명 제어로 불필요한 소비 감소  
- **편의성 향상:** 블루투스 기반 원격 제어 및 실시간 정보 수신 가능  

---

이 시스템은 **실생활에 적용 가능한 IoT 기반 스마트홈 구현 예제**로, **환경 제어와 보안 기능을 통합**한 종합적 프로젝트입니다. 🏠🔧📱
