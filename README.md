## 구현해야할 기능
적외선 리모컨으로 조명,팬 제어
가변저항으로 조명 제어
택트 스위치 넣으면 좋음




### **스마트홈 자동화 시스템 기능 상세 설명**  
본 프로젝트는 **아두이노를 활용한 통합 스마트홈 시스템**으로, **환경 모니터링**, **보안**, **원격 제어**, **에너지 관리** 기능을 구현합니다.  
아래는 모든 기능을 세부 카테고리별로 정리한 내용입니다.

---

### **1. 환경 모니터링 시스템**  
#### **(1) 온습도 제어**  
- **센서:** DHT11  
- **기능:**  
  - 실내 온도와 습도를 실시간으로 측정합니다.  
  - **LCD**에 현재 값을 표시합니다.  
  - **온도가 30°C 초과 시:**  
    - DC 모터(팬)를 작동시켜 환기합니다.  
    - `if (temp > 30) { digitalWrite(FAN_PIN, HIGH); }`  

#### **(2) 조명 제어**  
- **센서:** 조도 센서 (LDR)  
- **기능:**  
  - 주변 밝기를 측정해 **흰색 LED** 밝기를 자동 조절합니다.  
  - **가변저항**으로 LED 밝기를 수동으로 조정할 수 있습니다.  
  - 코드 예시:  
    ```cpp  
    int lightValue = analogRead(LIGHT_SENSOR);  
    analogWrite(LED_PIN, map(lightValue, 0, 1023, 0, 255));  
    ```  

---

### **2. 보안 및 안전 시스템**  
#### **(1) 침입 감지**  
- **센서:** 진동 센서, 초음파 센서  
- **기능:**  
  - **진동 감지 시:**  
    - 부저로 경고음을 울리고 **RGB LED**를 빨간색으로 점멸시킵니다.  
    - 블루투스로 스마트폰에 "침입 발생" 알림을 전송합니다.  
  - **초음파 센서:**  
    - 현관에 접근하는 물체를 감지해 LCD에 "Motion Detected"를 표시합니다.  

#### **(2) 화재 감지**  
- **센서:** 화염 감지 센서  
- **기능:**  
  - 불꽃을 감지하면 **RGB LED**를 빨간색으로 점멸하고 부저를 울립니다.  
  - **추가 기능 (권장):**  
    - 서보모터로 가스 밸브 모형을 닫아 위험을 차단합니다.  
    - 블루투스로 소방서에 자동 신고합니다.  

---

### **3. 원격 제어 시스템**  
#### **(1) 블루투스 통신**  
- **모듈:** HC-06  
- **기능:**  
  - 스마트폰 앱으로 **LED ON/OFF**, **팬 제어**가 가능합니다.  
  - 실시간으로 온습도 데이터를 수신해 앱에 표시합니다.  
  - 코드 예시:  
    ```cpp  
    if (bluetooth.available()) {  
      char cmd = bluetooth.read();  
      if (cmd == 'A') digitalWrite(LED, HIGH);  
    }  
    ```  

#### **(2) 적외선 리모컨**  
- **모듈:** IR 리모컨 + 수신기  
- **기능:**  
  - 리모컨 버튼으로 특정 기능을 제어합니다 (예: 1번 버튼 = 팬 작동).  
  - 코드 예시:  
    ```cpp  
    if (irDecoder.decode() == 0xFFA25D) { // 1번 버튼  
      digitalWrite(FAN_PIN, HIGH);  
    }  
    ```  

---

### **4. 에너지 관리 시스템**  
#### **(1) 자동 조명 제어**  
- **센서:** 조도 센서  
- **기능:**  
  - 어두워지면 LED를 자동으로 켜고, 밝아지면 끕니다.  
  - **전력 절약:** 불필요한 전력 소모를 30% 이상 줄일 수 있습니다.  

#### **(2) 전력 소모량 표시 (추가 권장)**  
- **부품:** 7-세그먼트 디스플레이  
- **기능:**  
  - 실시간 전력 사용량을 숫자로 표시합니다.  
  - 타이머를 설정해 특정 시간에 조명을 자동으로 차단합니다.  

---

### **5. H/W 구성**  
#### **(1) 주요 부품**  
| **카테고리**      | **부품**                                   | **용도**                     |  
|-------------------|-------------------------------------------|-----------------------------|  
| **센서**          | DHT11, 화염 감지, 진동, 초음파, 조도, 기울기 | 환경 및 보안 데이터 수집      |  
| **구동장치**      | DC 모터, 서보모터, 부저                   | 팬 구동, 경고음 발생          |  
| **출력장치**      | LCD, RGB LED, 흰색 LED                    | 정보 표시 및 상태 알림        |  
| **통신**          | 블루투스 모듈, 적외선 리모컨               | 원격 제어 및 데이터 전송      |  
| **회로 보호**     | 트랜지스터, 다이오드, 풀업 저항           | 고전류 제어 및 신호 안정화    |  

#### **(2) 회로 설계 핵심**  
- **DC 모터 제어:** 트랜지스터(TIP120)로 고전류 분리 제어.  
- **역전류 방지:** 다이오드(1N4001)를 모터에 병렬 연결.  
- **신호 안정화:** DHT11 데이터 핀에 10kΩ 풀업 저항 적용.  

---

### **6. S/W 로직**  
#### **(1) 주요 알고리즘**  
- **상태 머신 (State Machine):**  
  - 정상 모드, 경고 모드, 긴급 모드로 구분해 시스템을 제어합니다.  
  ```cpp  
  enum State { NORMAL, WARNING, EMERGENCY };  
  State currentState = NORMAL;  
  ```  

- **데이터 필터링:**  
  - 아날로그 센서 값에 이동 평균 필터 적용해 노이즈 제거.  
  ```cpp  
  int filteredValue = (sensorRead() + prev1 + prev2) / 3;  
  ```  

#### **(2) 기능별 코드 스니펫**  
- **팬 제어:**  
  ```cpp  
  void controlFan(float temp) {  
    if (temp > 30) analogWrite(FAN_PIN, 255);  
    else analogWrite(FAN_PIN, 0);  
  }  
  ```  
- **화재 대응:**  
  ```cpp  
  void fireResponse() {  
    servo.write(90); // 가스 밸브 차단  
    tone(BUZZER_PIN, 1000, 500); // 부저 울림  
    bluetooth.println("FIRE_DETECTED");  
  }  
  ```  

---

### **7. 확장 기능 (추천)**  
#### **(1) 스마트폰 앱 인터페이스**  
- **툴:** MIT App Inventor  
- **기능:**  
  - 온습도 실시간 그래프 표시.  
  - LED, 팬 제어 버튼 제공.  

#### **(2) 음성 제어**  
- **모듈:** 블루투스 + 음성 인식 앱  
- **기능:**  
  - "조명 켜줘" 명령으로 LED를 제어합니다.  

#### **(3) 창문 자동 제어**  
- **센서:** 기울기 센서  
- **기능:**  
  - 창문이 열리면 서보모터로 자동 닫힘.  

---

### **기대 효과**  
- **안전성 향상:** 화재/침입을 3초 이내에 감지해 즉시 대응.  
- **에너지 효율:** 자동 조명 제어로 전기 요금 20% 절감.  
- **사용자 편의성:** 원격 제어와 실시간 알림으로 생활 편의성 증대.  

이 시스템은 **IoT의 핵심 원리**를 적용했으며, **실생활 문제 해결**에 초점을 맞춘 차별화된 프로젝트입니다! 🏠💡